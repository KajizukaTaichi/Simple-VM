# Simple 仮想マシン
コンピュータの動作原理を深くコアの部分まで学ぶの教育用の仮想マシンです。`Simpleアセンブリ`でプログラムを開発できます。
現段階ではまだSimpleプログラミング言語からのコンパイルには対応していませんが、将来的にはコンパイルし、Simpleプログラミング言語の実行環境になる予定です。

## 命令セット
以下はバイトコードの命令セットです。
|命令コード|意味|
|:-|:-|
|1|足し算する|
|2|引き算する|
|3|掛け算する|
|4|割り算する|
|5|割り算の余り|
|6|次のメモリアドレスの値をスタックにプッシュする|
|7|スタックからポップする|
|8|等しいか判断する|
|9|未満か判断する|
|10|And演算を行う|
|11|Or演算を行う|
|12|Not演算を行う|
|13|値が0ならば指定したメモリアドレスへジャンプする|
|14|指定したメモリアドレスを読み込む|
|15|指定したメモリアドレスに値を書き込む|
|16|入力を受け付ける|
|17|値をUTF-8で出力する|
|18|ストレージから値を読み込む|
|19|ストレージに値を書き込む|
|20|シャットダウンする|
|21|WindowsAPIを利用する|
## アセンブリ
Simple仮想マシンはアセンブラを搭載して内部的にバイトコードに変換して実行しています。
|ニーモニック|対応する命令コード|
|:-|:-|
|add|1|
|sub|2|
|mul|3|
|div|4|
|mod|5|
|push|6|
|pop|7|
|equal|8|
|lessthan|9|
|and|10|
|or|11|
|not|12|
|jump|13|
|load|14|
|store|15|
|input|16|
|output|17|
|read|18|
|write|19|
|halt|20|
|winapi|21|

## WindowsAPIの関数番号リスト
|関数番号|意味|
|-:|:-|
|1|メッセージボックスAを表示する|
## 実行
Simple仮想マシンはコンピュータの動作原理を学ぶためデフォルト値ではデバッグモードになりますが、一気に実行することもできます。
そのためには`execute`とコマンドライン引数に入れてください。
```powershell
> simple_vm.exe example.asm execute 
```
